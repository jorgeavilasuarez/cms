function vl(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);}function wl(a){if(a.a)return vl(a.a.responseText)}var xl={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"};
function yl(){}
function zl(a,b,e){switch(typeof b){case "string":Al(b,e);break;case "number":e.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":e.push(b);break;case "undefined":e.push("null");break;case "object":if(null==b){e.push("null");break}if(ga(b)){var f=b.length;e.push("[");for(var g="",h=0;h<f;h++)e.push(g),zl(a,b[h],e),g=",";e.push("]");break}e.push("{");f="";for(g in b)Object.prototype.hasOwnProperty.call(b,g)&&(h=b[g],"function"!=typeof h&&(e.push(f),Al(g,e),e.push(":"),zl(a,h,e),f=","));e.push("}");
break;case "function":break;default:throw Error("Unknown type: "+typeof b);}}function Al(a,b){b.push('"',a.replace(me,function(a){if(a in xl)return xl[a];var b=a.charCodeAt(0),g="\\u";16>b?g+="000":256>b?g+="00":4096>b&&(g+="0");return xl[a]=g+b.toString(16)}),'"')}
function Bl(a){var b=new X;a=a.va;for(var e=a.length,f=0;f<e;f++){var g=a[f];b.append('<table id="',Y(g.Ue),'" cellspacing="0" border="0" style="width: 103%; border-collapse: collapse;"><tbody><tr><td><div style="float: left; width: 100%; height: 1px; background: #CCC; margin-bottom: 15px;"></div><div class="',"Kq",'"><div class="',"Lq",'"><p class="',"Mq",'">',Y(g.We),'</p></div><div class="',"Nq",'"><div class="',"Oq",'"><div class="',"Pq",'"><span class="',"Qq",'">',"Nombres",' (*)</span><input id="',
Y(g.hd),'" type="text" style="width: 90%;"></div><div class="',"Pq",'"><span class="',"Qq",'">',"Apellidos",'(*)</span><input id="',Y(g.md),'" type="text" style="width: 90%;"></div><div class="',"Pq",'"><span class="',"Qq",'">',"Fecha nacimiento",'</span><select id="',Y(g.bd),'" class="',"Es",'"><option value="01">01</option><option value="02">02</option><option value="03">03</option><option value="04">04</option><option value="05">05</option><option value="06">06</option><option value="07">07</option><option value="08">08</option><option value="09">09</option><option value="10">10</option><option value="11">11</option><option value="12">12</option><option value="13">13</option><option value="14">14</option><option value="15">15</option><option value="16">16</option><option value="17">17</option><option value="18">18</option><option value="19">19</option><option value="20">20</option><option value="21">21</option><option value="22">22</option><option value="23">23</option><option value="24">24</option><option value="25">25</option><option value="26">26</option><option value="27">27</option><option value="28">28</option><option value="29">29</option><option value="30">30</option><option value="31">31</option></select><select id="',
Y(g.od),'" class="',"Es",'"><option value="01">01</option><option value="02">02</option><option value="03">03</option><option value="04">04</option><option value="05">05</option><option value="06">06</option><option value="07">07</option><option value="08">08</option><option value="09">09</option><option value="10">10</option><option value="11">11</option><option value="12">12</option></select><select id="',Y(g.ud),'" class="',"Es",'"><option value="1914">1914</option><option value="1915">1915</option><option value="1916">1916</option><option value="1917">1917</option><option value="1918">1918</option><option value="1919">1919</option><option value="1920">1920</option><option value="1921">1921</option><option value="1922">1922</option><option value="1923">1923</option><option value="1924">1924</option><option value="1925">1925</option><option value="1926">1926</option><option value="1927">1927</option><option value="1928">1928</option><option value="1929">1929</option><option value="1930">1930</option><option value="1931">1931</option><option value="1932">1932</option><option value="1933">1933</option><option value="1934">1934</option><option value="1935">1935</option><option value="1936">1936</option><option value="1937">1937</option><option value="1938">1938</option><option value="1939">1939</option><option value="1940">1940</option><option value="1941">1941</option><option value="1942">1942</option><option value="1943">1943</option><option value="1944">1944</option><option value="1945">1945</option><option value="1946">1946</option><option value="1947">1947</option><option value="1948">1948</option><option value="1949">1949</option><option value="1950">1950</option><option value="1951">1951</option><option value="1952">1952</option><option value="1953">1953</option><option value="1954">1954</option><option value="1955">1955</option><option value="1956">1956</option><option value="1957">1957</option><option value="1958">1958</option><option value="1959">1959</option><option value="1960">1960</option><option value="1961">1961</option><option value="1962">1962</option><option value="1963">1963</option><option value="1964">1964</option><option value="1965">1965</option><option value="1966">1966</option><option value="1967">1967</option><option value="1968">1968</option><option value="1969">1969</option><option value="1970">1970</option><option value="1971">1971</option><option value="1972">1972</option><option value="1973">1973</option><option value="1974">1974</option><option value="1975">1975</option><option value="1976">1976</option><option value="1977">1977</option><option value="1978">1978</option><option value="1979">1979</option><option value="1980">1980</option><option value="1981">1981</option><option value="1982">1982</option><option value="1983">1983</option><option value="1984">1984</option><option value="1985">1985</option><option value="1986">1986</option><option value="1987">1987</option><option value="1988">1988</option><option value="1989">1989</option><option value="1990">1990</option><option value="1991">1991</option><option value="1992">1992</option><option value="1993">1993</option><option value="1994">1994</option><option value="1995">1995</option><option value="1996">1996</option><option value="1997">1997</option><option value="1998">1998</option><option value="1999">1999</option><option value="2000">2000</option><option value="2001">2001</option><option value="2002">2002</option><option value="2003">2003</option><option value="2004">2004</option><option value="2005">2005</option><option value="2006">2006</option><option value="2007">2007</option><option value="2008">2008</option><option value="2009">2009</option><option value="2010">2010</option><option value="2011">2011</option><option value="2012">2012</option><option value="2013">2013</option></select><span style="color: #186E9B;"></span></div><div class="',
"Pq",'"><span class="',"Qq",'">',"G\u00e9nero",'(*)</span><div style="float: left; width: 150px;"><select id="',Y(g.ld),'" style="width: 90%;"><option selected="selected" value="1">',"Masculino",'</option><option value="2">',"Femenino",'</option></select></div></div></div><div class="',"Oq",'"><div class="',"Pq",'"><span class="',"Qq",'">',"Tipo documento",'</span><div style="float: left; width: 150px;"><select id="',Y(g.ed),'" style="width: 90%;"><option value="1">',"Cedula Ciudadania",'</option><option value="2">',
"Pasaporte",'</option><option value="3">',"Registro Civil",'</option><option value="7">',"Tarjeta de identidad",'</option><option value="8">',"NIUP",'</option></select></div></div><div class="',"Pq",'"><span class="',"Qq",'">',"No.documento",'(*)</span><input id="',Y(g.dd),'" type="text" style="width: 80%;"></div><div class="',"Pq",'"><span class="',"Qq",'">',"Pasajero frecuente",'</span><input id="',Y(g.mg),'" type="text" style="width: 80%;"></div></div></div></div></td></tr></tbody></table><div><span style="color: Red; font-weight: bold;"></span></div>')}return b.toString()}
function Cl(a){var b=new X;b.append('<div class="',"reserva-rc",'"><div class="',"As",'"><div class="',"Bs",'"><div><a class="',"Ds"," ","x-y"," ","z-y"," ","B-y",'" href="javascript:void(0);">Volver a resultados</a></div><div><a class="',"ys",'" href="javascript:void(0);">1  ',"Resultados",'</a></div><div><a class="',"xs"," ","x-y"," ","z-y"," ","B-y",'" href="javascript:void(0);">2 Solicitar </a></div><div><a class="',"zs",'" href="javascript:void(0);">3 ',"Comprar",'</a></div></div></div><div class="',
"c-col",'"><div class="',"Tc"," ","push8"," ","Uc-medium"," ","push7-medium"," ","bd-small"," ","push0-small"," ","purchase-je",'"><div class="',"Hq"," ","z-y",'"><div class="',"fr"," ","z-y"," ","x-y",'"><span class="',"B-y",'" style="float: left;">',"Valor total a pagar",': &nbsp;</span><span class="',"B-y",'" style="float: left;">',Y(a.eb.currencyCodeLocalField),"&nbsp; ",Y(a.eb.amountCurrencyShowField),'</span></div><div class="',"reservaTarifasVuelosTarjeta",'"><div class="',"hr",'"><div class="',
"ir",'"><div style="float: left; width: 160px; text-align: left;"><span style="float: left;">',"Valor por un",'&nbsp;</span><span style="float: left;">',"Adulto","&nbsp;</span></div>");for(var e=a.eb.tcPassengerTypeField,f=e.length,g=0;g<f;g++){var h=e[g];b.append('<a class="',"Bq",'" href="#this" style="float: left; padding: 0; width: auto;"><span class="',"jr",'" style="float: left; text-align: left; width: 85px;"><span>',Y(h.currencyCodeShowField),"&nbsp;",Y(h.passengerPriceShowField),"</span></span></a>")}b.append('</div></div><div class="',
"er",'"></div></div><div class="',"Tq",'"><span>',"TUS VUELOS",'</span></div><div class="',"reservaResumen300",'">');a=a.eb.tcAirRouteField;e=a.length;for(f=0;f<e;f++)for(var g=a[f].tcAirItineraryField,h=g.length,k=0;k<h;k++)for(var m=g[k],n=m.tcFlightSegmentField,q=n.length,t=0;t<q;t++){var r=n[t];b.append('<div class="',"Iq",'"><div class="',"Uq",'"><div class="',"Iq",'"><span class="',"Yq",'">',Y(r.departureCityField)," ",Y(r.departureAirportNameField),'</span><span class="',"Xq",'">',Y(r.arrivalCityNameField),
" ",Y(r.arrivalAirPortNameField),'</span></div><div class="',"Iq",'" style="margin-bottom: 10px;"><span class="',"ar",'">',Y(r.departureDateField),'</span><span class="',"Zq",'">',Y(r.arrivalDateField),'</span></div><div class="',"Vq",'"><img src="http://search.technocloud.com.co/static/images/airline/',Y(r.airLineOperatedField),'.gif" style="border-width: 0px;"></div><div class="',"Wq",'"><div class="',"dr",'"><div class="',"br",'">',"Aerolinea",':&nbsp;&nbsp;</div><span class="',"cr",'">',Y(r.airLineOperatedField),
'</span></div><div class="',"dr",'"><div class="',"br",'">',"Hora de salida",':&nbsp;&nbsp;</div><span class="',"cr",'">',Y(r.departureTimeField),'</span></div><div class="',"dr",'"><div class="',"br",'">',"Hora de llegada",':&nbsp;&nbsp;</div><span class="',"cr",'">',Y(r.arrivalTimeField),'</span></div><div class="',"dr",'"><div class="',"br",'">',"Vuelo",':&nbsp;&nbsp;</div><span class="',"cr",'">',Y(r.numberFlightField),'</span></div><div class="',"dr",'"><span class="',"br",'">Paradas: &nbsp;&nbsp;</span><span class="',
"cr",'">',Y(m.stopNameField),'</span></div><div class="',"dr",'"><span class="',"br",'">Tiempo de vuelo: &nbsp;&nbsp;</span><span class="',"cr",'">',Y(r.estimatedTimeField),'</span></div></div></div><div class="',"er",'"></div></div>')}b.append('</div><span style="font-size: 10px; display: none;">',"Impuestos incluidos",'</span><p><span class="',"lq",'"></span></p><div style="text-align: center; background-color: rgb(255, 255, 255); width: 280px; height: 100px; padding: 20px; color: rgb(0, 0, 0); display: none; position: fixed; z-index: 100001; background-position: initial initial; background-repeat: initial initial;"><span></span>&nbsp;<br><span style="color: Red; font-size: 20px; padding: 5px; text-align: center; padding-bottom: 10px;"></span><br><br><br><br><input type="submit" name="ucReservaVuelosbtnContinuar" value="Finalizar" class="',
"di",'" style="padding: 5px; margin: 20px;"></div><div class="',"Dc-Ec-shadow",'" style="display: none; position: fixed; left: 0px; top: 0px; z-index: 10000;"></div></div></div><div class="',"Xc"," ","pull4"," ","Wc-medium"," ","pull5-medium"," ","bd-small"," ","pull0-small"," ","sd-small"," ","purchase-F",'"><div class="',"Gq"," ","z-y",'"><div class="',"Jq",'"><span class="',"titleRegister",'">',"INFORMACI\u00d3N DE PASAJERO",'</span><div style="float: right; line-height: 30px; padding-right: 15px; color: #5a5a5a; font-size: 11px; text-transform: none;">(*)',
"Datos obligatorios",'</div></div><div class="',"fq",'"></div><div class="',"Sq",'"></div>\x3c!--- datos del pasajero --\x3e<div class="',"Jq",'"><span>DATOS DE CONTACTO</span></div><div class="',"Rq",'">\x3c!--- registro --\x3e<table cellpadding="2" cellspacing="1" class="',"Hi",'"><tbody><tr class="',"Ip",'"><td><span>',"Correo electr\u00f3nico",'</span><span>(*)</span><br><input class="',"txtMailPersonal",'" type="text" style="width: 160px;"><span class="',"Cs",'" style="color: Maroon;"></span></td><td><span>',
"Telefono Fijo",'</span><br><input class="',"txtTelefono",'" type="text" style="width: 90px;"></td><td><span>',"Ciudad",'</span><span>(*)</span><br><input class="',"txtCiudad",'" type="text" style="width: 150px;"></td><td><span>',"Celular",'</span><span>(*)</span><br><input class="',"txtCelular",'" type="text" style="width: 90px;"></td></tr><tr><td><div class="',"bh",'"></div></td></tr><tr><td><span style="font-size: 13px; font-weight: bold; color: #186e9b"><span></span></span></td></tr></tbody></table></div><div class="',
"Sq",'"></div>\x3c!-- CONFIRMACION --\x3e<div class="',"mr",'"><img src="http://tutiquete.com/Pagina/App_Themes/Imagenes/warningCondiciones.jpg" style="width: 40px; float: left;"><a href="javascript:void(0);" style="float: left; width: 490px; margin-left: 10px; margin-bottom: 5px; font-size: 14px; color: #319fda;">',"Politica de tuagencia S.A. para el tratamiento de informacion de los usuarios",'</a><a href="javascript:void(0);" style="float: left; width: 490px; margin-left: 10px; margin-bottom: 10px; font-size: 14px; color: #319fda;">Condiciones de la reserva y tarifa </a><div style="clear: both;"></div><div><span class="',
"gr",'" style="color: #FF9900; font-size: X-Small; margin-left: 10px; margin-top: 2px;"><input id="tc_ReservaVuelos_cbAcepto" type="checkbox" class="',"ReservaVuelos_cbAcepto",'"></span><label for="tc_ReservaVuelos_cbAcepto"><span style="float: left; width: 490px; margin-left: 20px;">',"Confirmo datos de los pasajeros y acepto los t\u00e9rminos y condiciones de reserva y tarifas",'</span></label><div style="float: left; width: 100%; margin-top: 20px;"><input type="button" value="RESERVAR" class="',
"or"," ","x-y"," ","z-y"," ","B-y",'" style="float: right;"></div><div class="',"dm",'"></div></div></div>\x3c!-----------------------------\x3e</div></div></div></div>');return b.toString()}function Dl(a){var b=[];zl(new yl,a,b);return b.join("")}function nl(a){this.a=a;U.call(this)}z(nl,U);l=nl.prototype;
l.L=function(){nl.m.L.call(this);null===this.a.Za.rb&&xj(this.h(),"Kc-Lc-Mc");this.eb=gb(this.a.Ya.DO_tcAirSearchRSJS.tcAirSearchRSField,function(a){return this.id===a.id},{id:this.a.Ad});this.s=Cl({eb:this.eb});this.a.h().style.display="none"};
l.H=function(){nl.m.H.call(this);this.h().innerHTML=this.s;this.i=hd(MODULE_FLIGHTS_REGISTER_CSS);this.o=R("Ds");L(this.o,"click",x(function(){this.a.h().style.display="block";this.r()},this));this.c=[];for(var a=0;a<this.a.va.length;a++)for(var b=0;b<this.a.va[a].cc;b++)this.c.push({Ue:gg(this,"PassengerInfo"+b),gb:this.a.va[a].gb,We:this.a.va[a].dc,hd:gg(this,"FistName"+b),fc:null,md:gg(this,"LastNameId"+b),gc:null,bd:gg(this,"DayId"+b),od:gg(this,"MonthId"+b),ud:gg(this,"YearId"+b),ad:null,nd:null,
td:null,ld:gg(this,"Genre"+b),kd:null,ed:gg(this,"DocumentType"+b),DocumentType:null,dd:gg(this,"DocumentNumber"+b),cd:null});this.v=R("fq");this.v.innerHTML=Bl({va:this.c});this.k=R("or");window.scrollTo(0,wf(this.h()).y);V(this).j(this.k,"click",this.Wf);this.q=R("ReservaVuelos_cbAcepto")};l.K=function(){nl.m.K.call(this);var a=this.i;fd(a.ownerNode||a.owningElement||a)};
l.Wf=function(){for(var a=0;a<this.c.length;a++){var b=this.c[a],e=S(b.hd),f=S(b.md),g=S(b.dd),h=S(b.ed);if(Hf(e.value))return e.focus(),!1;if(Hf(f.value))return f.focus(),!1;if(Hf(g.value))return g.focus(),!1;var k=S(b.bd),m=S(b.od),n=S(b.ud),b=S(b.ld);this.c[a].fc=e.value;this.c[a].gc=f.value;this.c[a].cd=g.value;this.c[a].DocumentType=h.value;this.c[a].ad=k.value;this.c[a].nd=m.value;this.c[a].td=n.value;this.c[a].kd=b.value;this.a.G.DO_tcAirSearchRSJS.tcAirSearchRSField[0].tcPassengerFareUnitField[a].dateBirthField=
this.c[a].td+"-"+this.c[a].nd+"-"+this.c[a].ad;this.a.G.DO_tcAirSearchRSJS.tcAirSearchRSField[0].tcPassengerFareUnitField[a].documentField=this.c[a].cd;this.a.G.DO_tcAirSearchRSJS.tcAirSearchRSField[0].tcPassengerFareUnitField[a].firstNameField=this.c[a].fc;this.a.G.DO_tcAirSearchRSJS.tcAirSearchRSField[0].tcPassengerFareUnitField[a].genderField=this.c[a].kd;this.a.G.DO_tcAirSearchRSJS.tcAirSearchRSField[0].tcPassengerFareUnitField[a].firstSurnameField=this.c[a].gc;this.a.G.DO_tcAirSearchRSJS.tcAirSearchRSField[0].tcPassengerFareUnitField[a].typeDocumentField=
this.c[a].DocumentType;this.a.G.DO_tcAirSearchRSJS.tcAirSearchRSField[0].tcPassengerFareUnitField[a].typePassengerField=this.c[a].gb}a=R("txtMailPersonal");e=R("txtTelefono");f=R("txtCiudad");g=R("txtCelular");R("txtLastNameContact");this.a.G.DO_tcAirSearchRSJS.tcAirSearchRSField[0].tcContactField.emailField=a.value;this.a.G.DO_tcAirSearchRSJS.tcAirSearchRSField[0].tcContactField.celField=g.value;this.a.G.DO_tcAirSearchRSJS.tcAirSearchRSField[0].tcContactField.cityField=f.value;this.a.G.DO_tcAirSearchRSJS.tcAirSearchRSField[0].tcContactField.phoneField=
e.value;this.a.G.DO_tcAirSearchRSJS.tcAirSearchRSField[0].tcContactField.firstNameField=this.c[0].fc;this.a.G.DO_tcAirSearchRSJS.tcAirSearchRSField[0].tcContactField.firstSurnameField=this.c[0].gc;if(Hf(a.value))return a.focus(),!1;if(Hf(f.value))return f.focus(),!1;if(Hf(g.value))return g.focus(),!1;if(!this.q.checked)return alert("Debe aceptar los terminos y condiciones"),!1;this.a.X.style.display="block";a=new og;a.add("DO_tcAirSearchRSJS",Dl(this.a.G.DO_tcAirSearchRSJS));ye("http://www.travelcloud.com.co/site/booking.ashx",
x(function(a){this.a.X.style.display="none";debugger;try{this.f=wl(a.currentTarget);if("1"===this.f.DO_tcAirSearchRSJS.tcErrorField.codeField)return alert(this.f.DO_tcAirSearchRSJS.tcErrorField.messageField),!1;var b=$k(".Gq input ,.Gq select");for(a=0;a<b.length;a++)b[a].disabled=!0;var e=R("titleRegister");e.style.color="red";e.innerHTML="Su reserva fue confirmada con el record: "+this.f.DO_tcAirSearchRSJS.tcRecordIdField.pNRField;var f=R("mr"),g=new X;g.append('<div><input type="button" name="btnOfertas" value="Pagar" id="btnPay" class="',
"botonImprimirCotizar",'"><input type="button" name="btnContinuar" value="Cancelar" id="btnCancel" class="',"botonImprimirCotizar",'"></div>');f.innerHTML=g.toString();V(this).j(document.getElementById("btnPay"),"click",this.Sf);V(this).j(document.getElementById("btnCancel"),"click",this.Kf)}catch(h){}},this),"POST",a.toString())};l.Sf=function(){window.location.href="http://payment.travelcloud.com.co/site/gateway.aspx?sessionid="+this.f.DO_tcAirSearchRSJS.sessionField};
l.Kf=function(){this.a.X.style.display="block";var a=new og;a.add("DO_tcAirSearchRSJS",Dl(this.f.DO_tcAirSearchRSJS));ye("http://localhost:49815/site/cancel.ashx",x(function(a){this.a.X.style.display="none";try{this.f=wl(a.currentTarget);if("1"===this.f.DO_tcAirSearchRSJS.tcErrorField.codeField)return alert(this.f.DO_tcAirSearchRSJS.tcErrorField.messageField),!1;alert("Reserva cancelada");this.a.h().style.display="block";this.r()}catch(e){}},this),"POST",a.toString())};Nc("flights_register");
